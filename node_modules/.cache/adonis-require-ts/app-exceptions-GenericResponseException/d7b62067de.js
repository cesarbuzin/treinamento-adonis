"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const standalone_1 = require("@adonisjs/core/build/standalone");
const luxon_1 = require("luxon");
class GenericResponseException extends standalone_1.Exception {
    constructor(message, statusCode, data = []) {
        super(message);
        this.statusCode = statusCode;
        this.data = data;
    }
    async handle(error, ctx) {
        const statusCode = this.statusCode;
        ctx.response.status(statusCode).send({
            message: error.message,
            code: this.status,
            datetime: luxon_1.DateTime.now(),
        });
    }
}
exports.default = GenericResponseException;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VuZXJpY1Jlc3BvbnNlRXhjZXB0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiR2VuZXJpY1Jlc3BvbnNlRXhjZXB0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsZ0VBQTJEO0FBRTNELGlDQUFnQztBQUVoQyxNQUFxQix3QkFBeUIsU0FBUSxzQkFBUztJQUM3RCxZQUNFLE9BQWUsRUFDQyxVQUFrQixFQUN4QixPQUFlLEVBQUU7UUFFM0IsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBSEUsZUFBVSxHQUFWLFVBQVUsQ0FBUTtRQUN4QixTQUFJLEdBQUosSUFBSSxDQUFhO0lBRzdCLENBQUM7SUFDTSxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQVcsRUFBRSxHQUF3QjtRQUN2RCxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFBO1FBQ2xDLEdBQUcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNuQyxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU87WUFDdEIsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ2pCLFFBQVEsRUFBRSxnQkFBUSxDQUFDLEdBQUcsRUFBRTtTQUN6QixDQUFDLENBQUE7SUFDSixDQUFDO0NBQ0Y7QUFoQkQsMkNBZ0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhjZXB0aW9uIH0gZnJvbSAnQGFkb25pc2pzL2NvcmUvYnVpbGQvc3RhbmRhbG9uZSdcbmltcG9ydCB7IEh0dHBDb250ZXh0Q29udHJhY3QgfSBmcm9tICdAaW9jOkFkb25pcy9Db3JlL0h0dHBDb250ZXh0J1xuaW1wb3J0IHsgRGF0ZVRpbWUgfSBmcm9tICdsdXhvbidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJpY1Jlc3BvbnNlRXhjZXB0aW9uIGV4dGVuZHMgRXhjZXB0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0dXNDb2RlOiBudW1iZXIsXG4gICAgcHJvdGVjdGVkIGRhdGE6IE9iamVjdCA9IFtdXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpXG4gIH1cbiAgcHVibGljIGFzeW5jIGhhbmRsZShlcnJvcjogdGhpcywgY3R4OiBIdHRwQ29udGV4dENvbnRyYWN0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHRoaXMuc3RhdHVzQ29kZVxuICAgIGN0eC5yZXNwb25zZS5zdGF0dXMoc3RhdHVzQ29kZSkuc2VuZCh7XG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgY29kZTogdGhpcy5zdGF0dXMsXG4gICAgICBkYXRldGltZTogRGF0ZVRpbWUubm93KCksXG4gICAgfSlcbiAgfVxufVxuIl19